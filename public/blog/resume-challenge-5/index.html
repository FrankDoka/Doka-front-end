<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>IaC, CI/CD Enhancements, Smoke Testing | Frank Doka</title>
<meta name="keywords" content="AWS">
<meta name="description" content="Diving into tools such as Terraform to utilize IaC. Enhancing our CI/CD pipeline and testing.">
<meta name="author" content="">
<link rel="canonical" href="https://frankdoka.com/blog/resume-challenge-5/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.5fb04b9a00004a874ef7105de5fd8c706989be84dfa48d739bfc71f9397a0cfe.css" integrity="sha256-X7BLmgAASodO9xBd5f2McGmJvoTfpI1zm/xx&#43;Tl6DP4=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://frankdoka.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://frankdoka.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://frankdoka.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://frankdoka.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://frankdoka.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="IaC, CI/CD Enhancements, Smoke Testing" />
<meta property="og:description" content="Diving into tools such as Terraform to utilize IaC. Enhancing our CI/CD pipeline and testing." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://frankdoka.com/blog/resume-challenge-5/" /><meta property="article:section" content="blog" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="IaC, CI/CD Enhancements, Smoke Testing"/>
<meta name="twitter:description" content="Diving into tools such as Terraform to utilize IaC. Enhancing our CI/CD pipeline and testing."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Blogs",
      "item": "https://frankdoka.com/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "IaC, CI/CD Enhancements, Smoke Testing",
      "item": "https://frankdoka.com/blog/resume-challenge-5/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "IaC, CI/CD Enhancements, Smoke Testing",
  "name": "IaC, CI\/CD Enhancements, Smoke Testing",
  "description": "Diving into tools such as Terraform to utilize IaC. Enhancing our CI/CD pipeline and testing.",
  "keywords": [
    "AWS"
  ],
  "articleBody": "Smoke Testing, Infrastructure as Code (IAC), and CI/CD Enhancements We focused on enhancing our project with smoke testing, delved into Infrastructure as Code (IAC) using AWS Serverless Application Model (SAM) and Terraform, and continued to refine our Continuous Integration/Continuous Deployment (CI/CD) pipeline.\nSmoke Testing Install Cypress: We began the day by installing Cypress, a powerful end-to-end testing framework. Cypress would be instrumental in performing smoke tests to validate our system’s functionality.\nSmoke Test Execution: With Cypress in place, we conducted smoke tests to check the data being sent and to cover edge cases. These tests ensured that our system behaved as expected under various scenarios.\nInfrastructure as Code (IAC) AWS SAM Template: We explored AWS Serverless Application Model (SAM) templates, a convenient way to define our serverless infrastructure. This included configuring components like Lambda functions, DynamoDB, and API Gateway.\nCloudFormation and Terraform: We delved into two IAC tools, CloudFormation and Terraform, to manage our cloud resources. CloudFormation is AWS’s native tool for IAC, while Terraform is a versatile, multi-cloud tool widely adopted in the industry. Terraform uses a domain-specific configuration language called HCL.\nCI/CD Backend GitHub Actions Workflow: We leveraged GitHub Actions to automate our CI/CD pipeline. This streamlined the process of deploying updates, ensuring that our SAM application package and Python code were properly tested before deployment.\nWorkflow Steps:\nBuild Step: In this step, we packaged up our Lambda function code and installed any necessary dependencies. The output was a zipped Lambda function artifact and a configuration file ready for deploying resources. Deploy Step: We utilized our chosen IAC tool (Terraform) to deploy AWS resources based on the defined templates. Smoke Test Step: To ensure the API functioned as expected, we ran Cypress API tests, confirming that the deployed API met our requirements. Backend Infrastructure with Terraform Terraform Configuration: We began setting up our backend infrastructure as code using Terraform. This included creating a main.tf file and configuring an EC2 instance for testing purposes.\nLambda Function and DynamoDB Policies: We reviewed our Lambda function code and ensured that the necessary policies and permissions were correctly defined.\nDynamoDB Table Configuration: We created the base DynamoDB table and continued to explore how to add items to it programmatically.\nAPI Gateway Enhancements: We improved our API Gateway configuration by attaching the Lambda function and configuring the GET function. Additionally, we addressed CORS (Cross-Origin Resource Sharing) settings, allowing the GET method.\nGitHub Repository Setup Terraform and Backend Repository: We initiated a GitHub repository dedicated to our backend code and testing. This repository would host our Terraform configurations and serve as a central hub for backend development. As Day 5 concludes, we’ve made significant strides in our project, focusing on testing, infrastructure as code, and CI/CD enhancements. Our commitment to automation and robust testing ensures a reliable and scalable project. Stay tuned for further updates as we continue to fine-tune and expand our system.\n",
  "wordCount" : "480",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://frankdoka.com/blog/resume-challenge-5/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Frank Doka",
    "logo": {
      "@type": "ImageObject",
      "url": "https://frankdoka.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header sticky-header">
    <nav class="nav">
        <div class="logo">
            <a href="https://frankdoka.com" accesskey="h" title="Frank Doka (Alt + H)">Frank Doka</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://frankdoka.com/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://frankdoka.com/blog" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://frankdoka.com/projects" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://frankdoka.com/experience" title="Experience">
                    <span>Experience</span>
                </a>
            </li>
            <li>
                <a href="https://frankdoka.com/stats" title="Stats">
                    <span>Stats</span>
                </a>
            </li>
            <li>
                <a href="https://frankdoka.com/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://frankdoka.com">Home</a>&nbsp;»&nbsp;<a href="https://frankdoka.com/blog/">Blogs</a></div>
    <h1 class="post-title">
      IaC, CI/CD Enhancements, Smoke Testing
    </h1>
    <div class="post-description">
      Diving into tools such as Terraform to utilize IaC. Enhancing our CI/CD pipeline and testing.
    </div>
    <div class="post-meta">


September 2023

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">‎ Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#smoke-testing-infrastructure-as-code-iac-and-cicd-enhancements" aria-label="Smoke Testing, Infrastructure as Code (IAC), and CI/CD Enhancements">Smoke Testing, Infrastructure as Code (IAC), and CI/CD Enhancements</a><ul>
                        
                <li>
                    <a href="#smoke-testing" aria-label="Smoke Testing">Smoke Testing</a></li>
                <li>
                    <a href="#infrastructure-as-code-iac" aria-label="Infrastructure as Code (IAC)">Infrastructure as Code (IAC)</a></li>
                <li>
                    <a href="#cicd-backend" aria-label="CI/CD Backend">CI/CD Backend</a></li>
                <li>
                    <a href="#backend-infrastructure-with-terraform" aria-label="Backend Infrastructure with Terraform">Backend Infrastructure with Terraform</a></li>
                <li>
                    <a href="#github-repository-setup" aria-label="GitHub Repository Setup">GitHub Repository Setup</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="smoke-testing-infrastructure-as-code-iac-and-cicd-enhancements">Smoke Testing, Infrastructure as Code (IAC), and CI/CD Enhancements<a hidden class="anchor" aria-hidden="true" href="#smoke-testing-infrastructure-as-code-iac-and-cicd-enhancements">#</a></h1>
<p>We focused on enhancing our project with smoke testing, delved into Infrastructure as Code (IAC) using AWS Serverless Application Model (SAM) and Terraform, and continued to refine our Continuous Integration/Continuous Deployment (CI/CD) pipeline.</p>
<h2 id="smoke-testing">Smoke Testing<a hidden class="anchor" aria-hidden="true" href="#smoke-testing">#</a></h2>
<ul>
<li>
<p><strong>Install Cypress</strong>: We began the day by installing Cypress, a powerful end-to-end testing framework. Cypress would be instrumental in performing smoke tests to validate our system&rsquo;s functionality.</p>
</li>
<li>
<p><strong>Smoke Test Execution</strong>: With Cypress in place, we conducted smoke tests to check the data being sent and to cover edge cases. These tests ensured that our system behaved as expected under various scenarios.</p>
</li>
</ul>
<h2 id="infrastructure-as-code-iac">Infrastructure as Code (IAC)<a hidden class="anchor" aria-hidden="true" href="#infrastructure-as-code-iac">#</a></h2>
<ul>
<li>
<p><strong>AWS SAM Template</strong>: We explored AWS Serverless Application Model (SAM) templates, a convenient way to define our serverless infrastructure. This included configuring components like Lambda functions, DynamoDB, and API Gateway.</p>
</li>
<li>
<p><strong>CloudFormation and Terraform</strong>: We delved into two IAC tools, CloudFormation and Terraform, to manage our cloud resources. CloudFormation is AWS&rsquo;s native tool for IAC, while Terraform is a versatile, multi-cloud tool widely adopted in the industry. Terraform uses a domain-specific configuration language called HCL.</p>
</li>
</ul>
<h2 id="cicd-backend">CI/CD Backend<a hidden class="anchor" aria-hidden="true" href="#cicd-backend">#</a></h2>
<ul>
<li>
<p><strong>GitHub Actions Workflow</strong>: We leveraged GitHub Actions to automate our CI/CD pipeline. This streamlined the process of deploying updates, ensuring that our SAM application package and Python code were properly tested before deployment.</p>
</li>
<li>
<p><strong>Workflow Steps</strong>:</p>
<ul>
<li><strong>Build Step</strong>: In this step, we packaged up our Lambda function code and installed any necessary dependencies. The output was a zipped Lambda function artifact and a configuration file ready for deploying resources.</li>
<li><strong>Deploy Step</strong>: We utilized our chosen IAC tool (Terraform) to deploy AWS resources based on the defined templates.</li>
<li><strong>Smoke Test Step</strong>: To ensure the API functioned as expected, we ran Cypress API tests, confirming that the deployed API met our requirements.</li>
</ul>
</li>
</ul>
<h2 id="backend-infrastructure-with-terraform">Backend Infrastructure with Terraform<a hidden class="anchor" aria-hidden="true" href="#backend-infrastructure-with-terraform">#</a></h2>
<ul>
<li>
<p><strong>Terraform Configuration</strong>: We began setting up our backend infrastructure as code using Terraform. This included creating a <code>main.tf</code> file and configuring an EC2 instance for testing purposes.</p>
</li>
<li>
<p><strong>Lambda Function and DynamoDB Policies</strong>: We reviewed our Lambda function code and ensured that the necessary policies and permissions were correctly defined.</p>
</li>
<li>
<p><strong>DynamoDB Table Configuration</strong>: We created the base DynamoDB table and continued to explore how to add items to it programmatically.</p>
</li>
<li>
<p><strong>API Gateway Enhancements</strong>: We improved our API Gateway configuration by attaching the Lambda function and configuring the GET function. Additionally, we addressed CORS (Cross-Origin Resource Sharing) settings, allowing the GET method.</p>
</li>
</ul>
<h2 id="github-repository-setup">GitHub Repository Setup<a hidden class="anchor" aria-hidden="true" href="#github-repository-setup">#</a></h2>
<ul>
<li><strong>Terraform and Backend Repository</strong>: We initiated a GitHub repository dedicated to our backend code and testing. This repository would host our Terraform configurations and serve as a central hub for backend development.</li>
</ul>
<p>As Day 5 concludes, we&rsquo;ve made significant strides in our project, focusing on testing, infrastructure as code, and CI/CD enhancements. Our commitment to automation and robust testing ensures a reliable and scalable project. Stay tuned for further updates as we continue to fine-tune and expand our system.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://frankdoka.com/tags/aws/">AWS</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://frankdoka.com">Frank Doka</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
